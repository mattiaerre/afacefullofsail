{"version":3,"sources":["domain/constants.js","domain/crossing.js","domain/Vessel.js","App.js","reportWebVitals.js","index.js"],"names":["A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER","BIG_SHIP","GIVE_WAY","PORT","POWER_DRIVEN","SAILBOAT","STAND_ON","STARBOARD","UNKNOWN","LEEWARD","hierarchy","byPosition","position","byTack","tack","crossing","vesselA","vesselB","type","isThe","Error","Vessel","this","List","collection","name","onChange","selected","map","element","id","uuid","checked","value","target","htmlFor","Section","positions","tacks","types","useState","selectedPosition","setSelectedPosition","selectedTack","setSelectedTack","selectedType","setSelectedType","useEffect","vessel","App","classNameA","setClassNameA","classNameB","setClassNameB","notification","setNotification","setVesselA","setVesselB","makeClassName","classnames","error","message","className","Date","getFullYear","version","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61ed9cf1.chunk.js","sourcesContent":["export const A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER =\n  'a fishing vessel with nets in the water';\nexport const BIG_SHIP = 'big ship';\nexport const GIVE_WAY = 'give-way'; // must maneuver in a safe and seamanlike way so as to avoid collision\n// export const OVERTAKING = 'overtaking';\nexport const N_A = 'not applicable';\nexport const PORT = 'port'; // usually give-way\nexport const POWER_DRIVEN = 'power-driven';\nexport const SAILBOAT = 'sailboat';\nexport const STAND_ON = 'stand-on'; // must maintain its course and speed\nexport const STARBOARD = 'startboard'; // usually stand-on\nexport const UNKNOWN = 'unknown';\nexport const LEEWARD = 'leeward'; // away from the wind\nexport const WINDWARD = 'windward'; // toward the wind\n","import {\n  A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n  BIG_SHIP,\n  GIVE_WAY,\n  LEEWARD,\n  // PORT,\n  POWER_DRIVEN,\n  SAILBOAT,\n  STAND_ON,\n  STARBOARD,\n  UNKNOWN\n  // WINDWARD\n} from './constants';\n\nconst hierarchy = {\n  [A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER]: 2,\n  [BIG_SHIP]: 1,\n  [POWER_DRIVEN]: 4,\n  [SAILBOAT]: 3\n};\n\nfunction byPosition(position) {\n  return position === LEEWARD ? STAND_ON : GIVE_WAY;\n}\n\nfunction byTack(tack) {\n  return tack === STARBOARD ? STAND_ON : GIVE_WAY;\n}\n\nfunction crossing(vesselA, vesselB) {\n  if (hierarchy[vesselA.type] < hierarchy[vesselB.type]) {\n    // e.g. big ship = 1 and sailboat = 3\n    vesselA.isThe = STAND_ON;\n    vesselB.isThe = GIVE_WAY;\n  } else if (hierarchy[vesselA.type] > hierarchy[vesselB.type]) {\n    vesselA.isThe = GIVE_WAY;\n    vesselB.isThe = STAND_ON;\n  } else if (vesselA.type === SAILBOAT && vesselB.type === SAILBOAT) {\n    if (vesselA.tack !== vesselB.tack) {\n      vesselA.isThe = byTack(vesselA.tack);\n      vesselB.isThe = byTack(vesselB.tack);\n    } else {\n      vesselA.isThe = byPosition(vesselA.position);\n      vesselB.isThe = byPosition(vesselB.position);\n    }\n  } else {\n    throw new Error(UNKNOWN);\n  }\n}\n\nexport default crossing;\n","import { N_A, UNKNOWN } from './constants';\n\nclass Vessel {\n  constructor({ position = UNKNOWN, tack = N_A, type }) {\n    this.isThe = UNKNOWN;\n    this.position = position;\n    this.tack = tack;\n    this.type = type;\n  }\n}\n\nexport default Vessel;\n","import classnames from 'classnames';\nimport { useEffect, useState } from 'react';\nimport uuid from 'react-uuid';\nimport { name, version } from '../package.json';\nimport './App.css';\nimport crossing from './domain/crossing';\nimport Vessel from './domain/Vessel';\nimport {\n  A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n  BIG_SHIP,\n  GIVE_WAY,\n  LEEWARD,\n  PORT,\n  POWER_DRIVEN,\n  SAILBOAT,\n  STAND_ON,\n  STARBOARD,\n  UNKNOWN,\n  WINDWARD\n} from './domain/constants';\n\nfunction List({ collection, name, onChange, selected }) {\n  return (\n    <ul>\n      {collection.map((element) => {\n        const id = uuid();\n        return (\n          <li key={element}>\n            <input\n              checked={element === selected}\n              id={id}\n              name={name}\n              onChange={({ target: { value } }) => onChange(value)}\n              type=\"radio\"\n              value={element}\n            />\n            <label htmlFor={id}>{element}</label>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction Section({ name, onChange, position, tack, type }) {\n  const positions = [LEEWARD, WINDWARD];\n\n  const tacks = [PORT, STARBOARD];\n\n  const types = [\n    A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n    BIG_SHIP,\n    POWER_DRIVEN,\n    SAILBOAT\n  ];\n\n  const [selectedPosition, setSelectedPosition] = useState(position);\n  const [selectedTack, setSelectedTack] = useState(tack);\n  const [selectedType, setSelectedType] = useState(type);\n\n  useEffect(() => {\n    const vessel = new Vessel({\n      position: selectedPosition,\n      tack: selectedTack,\n      type: selectedType\n    });\n\n    onChange(vessel);\n  }, [onChange, selectedPosition, selectedTack, selectedType]);\n\n  return (\n    <section>\n      <h2>{name}</h2>\n      <form>\n        <h3>Type</h3>\n        <List\n          collection={types}\n          name=\"type\"\n          onChange={setSelectedType}\n          selected={selectedType}\n        />\n        <h3>Tack</h3>\n        <List\n          collection={tacks}\n          name=\"tack\"\n          onChange={setSelectedTack}\n          selected={selectedTack}\n        />\n        <h3>Position</h3>\n        <List\n          collection={positions}\n          name=\"position\"\n          onChange={setSelectedPosition}\n          selected={selectedPosition}\n        />\n      </form>\n    </section>\n  );\n}\n\nfunction App() {\n  const [classNameA, setClassNameA] = useState(null);\n  const [classNameB, setClassNameB] = useState(null);\n  const [notification, setNotification] = useState(null);\n  const [vesselA, setVesselA] = useState(null);\n  const [vesselB, setVesselB] = useState(null);\n\n  function makeClassName(vessel) {\n    return classnames({\n      'Section__li--giveWay': vessel !== null && vessel.isThe === GIVE_WAY,\n      'Section__li--standOn': vessel !== null && vessel.isThe === STAND_ON\n    });\n  }\n\n  useEffect(() => {\n    if (vesselA !== null && vesselB !== null) {\n      try {\n        setNotification(null);\n        crossing(vesselA, vesselB);\n        setClassNameA(makeClassName(vesselA));\n        setClassNameB(makeClassName(vesselB));\n      } catch (error) {\n        // console.log(error);\n        setNotification(error.message);\n        setClassNameA(makeClassName({ ...vesselA, isThe: UNKNOWN }));\n        setClassNameB(makeClassName({ ...vesselB, isThe: UNKNOWN }));\n      }\n    }\n  }, [vesselA, vesselB]);\n\n  return (\n    <article className=\"App\">\n      <p>\n        \"But when I raise the sail and lose those ties, anyone else in the\n        cockpit inevitably gets <b>a face full of sail</b>.\"\n      </p>\n      {notification && <p className=\"Notification\">{notification}</p>}\n      <ul>\n        <li className={classNameA}>\n          <Section name=\"A\" onChange={setVesselA} type={BIG_SHIP} />\n        </li>\n        <li className={classNameB}>\n          <Section\n            name=\"B\"\n            onChange={setVesselB}\n            position={LEEWARD}\n            tack={PORT}\n            type={SAILBOAT}\n          />\n        </li>\n      </ul>\n      <footer className=\"App__footer\">\n        {new Date().getFullYear()} {name} v{version}\n      </footer>\n    </article>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}