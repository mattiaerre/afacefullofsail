{"version":3,"sources":["domain/constants.js","domain/crossing.js","domain/Vessel.js","App.js","reportWebVitals.js","index.js"],"names":["A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER","BIG_SHIP","GIVE_WAY","PORT","POWER_DRIVEN","SAILBOAT","STAND_ON","STARBOARD","UNKNOWN","LEEWARD","hierarchy","byPosition","position","byTack","tack","crossing","vesselA","vesselB","type","isThe","Error","Vessel","this","List","collection","name","onChange","selected","className","map","element","id","uuid","checked","value","target","htmlFor","replace","Section","positions","tacks","types","useState","selectedPosition","setSelectedPosition","selectedTack","setSelectedTack","selectedType","setSelectedType","useEffect","vessel","App","classNameA","setClassNameA","classNameB","setClassNameB","notification","setNotification","setVesselA","setVesselB","makeClassName","classnames","error","message","Date","getFullYear","version","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Helmet","document","getElementById"],"mappings":"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","file":"static/js/main.d473cad0.chunk.js","sourcesContent":["export const A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER =\n  'a fishing vessel with nets in the water';\nexport const BIG_SHIP = 'big ship';\nexport const GIVE_WAY = 'give-way'; // must maneuver in a safe and seamanlike way so as to avoid collision\n// export const OVERTAKING = 'overtaking';\nexport const N_A = 'not applicable';\nexport const PORT = 'port'; // usually give-way\nexport const POWER_DRIVEN = 'power-driven';\nexport const SAILBOAT = 'sailboat';\nexport const STAND_ON = 'stand-on'; // must maintain its course and speed\nexport const STARBOARD = 'startboard'; // usually stand-on\nexport const UNKNOWN = 'unknown';\nexport const LEEWARD = 'leeward'; // away from the wind\nexport const WINDWARD = 'windward'; // toward the wind\n","import {\n  A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n  BIG_SHIP,\n  GIVE_WAY,\n  LEEWARD,\n  // PORT,\n  POWER_DRIVEN,\n  SAILBOAT,\n  STAND_ON,\n  STARBOARD\n  // WINDWARD\n} from './constants';\n\nconst hierarchy = {\n  [A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER]: 2,\n  [BIG_SHIP]: 1,\n  [POWER_DRIVEN]: 4,\n  [SAILBOAT]: 3\n};\n\nfunction byPosition(position) {\n  return position === LEEWARD ? STAND_ON : GIVE_WAY;\n}\n\nfunction byTack(tack) {\n  return tack === STARBOARD ? STAND_ON : GIVE_WAY;\n}\n\nfunction crossing(vesselA, vesselB) {\n  if (hierarchy[vesselA.type] < hierarchy[vesselB.type]) {\n    // e.g. big ship = 1 and sailboat = 3\n    vesselA.isThe = STAND_ON;\n    vesselB.isThe = GIVE_WAY;\n  } else if (hierarchy[vesselA.type] > hierarchy[vesselB.type]) {\n    vesselA.isThe = GIVE_WAY;\n    vesselB.isThe = STAND_ON;\n  } else if (vesselA.type === SAILBOAT && vesselB.type === SAILBOAT) {\n    if (vesselA.tack !== vesselB.tack) {\n      vesselA.isThe = byTack(vesselA.tack);\n      vesselB.isThe = byTack(vesselB.tack);\n    } else {\n      if (vesselA.position !== vesselB.position) {\n        vesselA.isThe = byPosition(vesselA.position);\n        vesselB.isThe = byPosition(vesselB.position);\n      } else {\n        throw new Error('same position');\n      }\n    }\n  } else {\n    throw new Error('same type');\n  }\n}\n\nexport default crossing;\n","import { N_A, UNKNOWN } from './constants';\n\nclass Vessel {\n  constructor({ position = UNKNOWN, tack = N_A, type }) {\n    this.isThe = UNKNOWN;\n    this.position = position;\n    this.tack = tack;\n    this.type = type;\n  }\n}\n\nexport default Vessel;\n","import classnames from 'classnames';\nimport { useEffect, useState } from 'react';\nimport uuid from 'react-uuid';\nimport { name, version } from '../package.json';\nimport './App.css';\nimport crossing from './domain/crossing';\nimport Vessel from './domain/Vessel';\nimport {\n  A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n  BIG_SHIP,\n  GIVE_WAY,\n  LEEWARD,\n  PORT,\n  POWER_DRIVEN,\n  SAILBOAT,\n  STAND_ON,\n  STARBOARD,\n  UNKNOWN,\n  WINDWARD\n} from './domain/constants';\n\nfunction List({ collection, name, onChange, selected }) {\n  return (\n    <ul className=\"List\">\n      {collection.map((element) => {\n        const id = uuid();\n        return (\n          <li key={element}>\n            <input\n              checked={element === selected}\n              id={id}\n              name={name}\n              onChange={({ target: { value } }) => onChange(value)}\n              type=\"radio\"\n              value={element}\n            />\n            <label htmlFor={id}>\n              {element.replace(\n                A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n                'fishing vessel'\n              )}\n            </label>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nfunction Section({ name, onChange, position, tack, type }) {\n  const positions = [LEEWARD, WINDWARD];\n\n  const tacks = [PORT, STARBOARD];\n\n  const types = [\n    A_FISHING_VESSEL_WITH_NETS_IN_THE_WATER,\n    BIG_SHIP,\n    POWER_DRIVEN,\n    SAILBOAT\n  ];\n\n  const [selectedPosition, setSelectedPosition] = useState(position);\n  const [selectedTack, setSelectedTack] = useState(tack);\n  const [selectedType, setSelectedType] = useState(type);\n\n  useEffect(() => {\n    const vessel = new Vessel({\n      position: selectedPosition,\n      tack: selectedTack,\n      type: selectedType\n    });\n\n    onChange(vessel);\n  }, [onChange, selectedPosition, selectedTack, selectedType]);\n\n  useEffect(() => {\n    if (selectedType !== SAILBOAT) {\n      setSelectedPosition(LEEWARD);\n      setSelectedTack(PORT);\n    }\n  }, [selectedType]);\n\n  return (\n    <section>\n      <h2>{name}</h2>\n      <form>\n        <h3>Type</h3>\n        <List\n          collection={types}\n          name=\"type\"\n          onChange={setSelectedType}\n          selected={selectedType}\n        />\n        {selectedType === SAILBOAT && (\n          <>\n            <h3>Tack</h3>\n            <List\n              collection={tacks}\n              name=\"tack\"\n              onChange={setSelectedTack}\n              selected={selectedTack}\n            />\n            <h3>Position</h3>\n            <List\n              collection={positions}\n              name=\"position\"\n              onChange={setSelectedPosition}\n              selected={selectedPosition}\n            />\n          </>\n        )}\n      </form>\n    </section>\n  );\n}\n\nfunction App() {\n  const [classNameA, setClassNameA] = useState(null);\n  const [classNameB, setClassNameB] = useState(null);\n  const [notification, setNotification] = useState(null);\n  const [vesselA, setVesselA] = useState(null);\n  const [vesselB, setVesselB] = useState(null);\n\n  function makeClassName(vessel) {\n    return classnames({\n      'Section__li--giveWay': vessel !== null && vessel.isThe === GIVE_WAY,\n      'Section__li--standOn': vessel !== null && vessel.isThe === STAND_ON\n    });\n  }\n\n  useEffect(() => {\n    if (vesselA !== null && vesselB !== null) {\n      try {\n        setNotification(null);\n        crossing(vesselA, vesselB);\n        setClassNameA(makeClassName(vesselA));\n        setClassNameB(makeClassName(vesselB));\n      } catch (error) {\n        setNotification(error.message);\n        setClassNameA(makeClassName({ ...vesselA, isThe: UNKNOWN }));\n        setClassNameB(makeClassName({ ...vesselB, isThe: UNKNOWN }));\n      }\n    }\n  }, [vesselA, vesselB]);\n\n  return (\n    <article className=\"App\">\n      <p>\n        \"But when I raise the sail and lose those ties, anyone else in the\n        cockpit inevitably gets <b>a face full of sail</b>.\"\n      </p>\n      <h1>Crossing</h1>\n      {notification && <p className=\"Notification\">{notification}</p>}\n      <ul>\n        <li className={classNameA}>\n          <Section name=\"Vessel A\" onChange={setVesselA} type={BIG_SHIP} />\n        </li>\n        <li className={classNameB}>\n          <Section\n            name=\"Vessel B\"\n            onChange={setVesselB}\n            position={LEEWARD}\n            tack={PORT}\n            type={SAILBOAT}\n          />\n        </li>\n      </ul>\n      <p className=\"Legend\">\n        <span className=\"Legend__span--giveWay\">Give-way</span>\n        <span className=\"Legend__span--standOn\">Stand-on</span>\n      </p>\n      <footer className=\"App__footer\">\n        {new Date().getFullYear()} {name} v{version}\n      </footer>\n    </article>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Helmet } from 'react-helmet';\nimport { name, version } from '../package.json';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <StrictMode>\n    <Helmet>\n      <title>{`${name} v${version}`}</title>\n    </Helmet>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}